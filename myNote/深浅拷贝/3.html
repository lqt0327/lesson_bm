<script>
    function deep(item) {
        const target = item.constructor === Array ? [] : {};
        for(let key in item) {
            if(item.hasOwnProperty(key)){
                if(item[key] && typeof item[key] === 'object'){
                    target[key] = item[key].constructor === Array ? [] : {}
                    target[key] = deep(item[key])
                }else{
                    target[key] = item[key]
                }
            }
        }
        return target;
    }
    let obj1 = {
        a:1,
        fn:function(){
            console.log(test);
        }
    }
    let obj2 = deep(obj1);
    console.log(obj2);
</script>